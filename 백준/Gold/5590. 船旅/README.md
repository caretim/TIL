# [Gold V] 船旅 - 5590 

[문제 링크](https://www.acmicpc.net/problem/5590) 

### 성능 요약

메모리: 119244 KB, 시간: 480 ms

### 분류

데이크스트라, 그래프 이론

### 문제 설명

<p>JOI国には，n 島の島があり， 各島には 1 から n までの番号が付けられている． 現在，JOI国では各島の間を結ぶ航路網の整備が進んでいる．</p>

<p>あなたは，船舶の切符を扱っているチケットセンターに勤務している．JOI国には船舶を使って，できる限り安価に， 島と島の間を旅行したいと考えている人が沢山おり， 彼らは，出発地と目的地を注文票に記入して，あなたのところに送ってくる． </p>

<p>あなたの仕事は，客から注文票を受け取ったらすぐに， いくつかの船舶を乗り継いで， 出発地と目的地を結ぶ航路の中で， もっとも安価な運賃を計算し，客に伝えることである．</p>

<p>ただし，旅程によっては，船舶を使って旅行することが出来ない場合もある． そのときは『船舶を使って旅行することが出来ない』と客に伝える必要がある． また，JOI国では，島と島の間を結ぶ新しい船舶が，次々と運航を開始しており， あなたには，その情報が随時伝えられる． 客に返事をする際には，最新の情報に留意しなければならない．</p>

<p>入力として，客の注文票や新たに運航を開始した船舶の運航情報が与えられたときに， 客への返事を求めるプログラムを作成せよ．</p>

<p>なお，入力例１と出力例１に対する実行状況を，図１として図示している．</p>

### 입력 

 <p>入力の 1 行目には2つの整数 n, k (1 ≦ n ≦ 100, 1 ≦ k ≦ 5000) が書かれている． これは，島の数が n 島で，入力が k + 1 行からなることを表す． </p>

<p>i + 1 行目 (1 ≦ i ≦ k) には， 3 個または 4 個の整数が空白を区切りとして書かれている．</p>

<ul>
	<li>最初の数字が 0 のとき，この行は客の注文票を表す．
	<ul>
		<li>この行には3個の整数 0, a, b (1 ≦ a ≦ n, 1 ≦ b ≦ n, a ≠ b) が空白を区切りとして書かれている．</li>
		<li>これは，客が，島 a を出発地とし島 b を目的地とするような注文票を送ってきたことを表す．</li>
	</ul>
	</li>
	<li>最初の数字が 1 のとき，この行は新たに運航を開始した船舶の運航情報を表す．
	<ul>
		<li>この行には 4 個の整数 1, c, d, e (1 ≦ c ≦ n, 1 ≦ d ≦ n, c ≠ d, 1 ≦ e ≦ 1000000) が書かれている．</li>
		<li>これは島 c と島 d を往復する船舶が新たに運航を開始し， この船舶の島 c から島 d への運賃と，島 d から島 c への運賃が，共に e であることを表す．</li>
		<li>この行以降の注文票に対しては，この船舶も考慮して返事をしなければならない．</li>
	</ul>
	</li>
</ul>

<p>最初の段階では，船舶は一隻も運航していないものとする． 入力のうち，船舶の運航情報を表す行は 1000 行以下である． また，島と島の間に，複数の船舶が運航することがあることに注意せよ．</p>

### 출력 

 <p>入力のうち，注文票を表す行の数を m とおく． </p>

<p>提出する出力ファイルは m 行からなり， i 行目(1 ≦ i ≦ m)には， i 番目の注文票に対する返事を表す整数を書く． </p>

<p>すなわち， i 番目の注文票の出発地と目的地の間を，いくつかの船舶を乗り継いで旅行することが可能ならば， その運賃の合計の最小値を書く． 旅行することが不可能ならば，-1 を書く．</p>

